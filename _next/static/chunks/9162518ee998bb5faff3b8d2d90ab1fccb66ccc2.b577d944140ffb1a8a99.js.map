{"version":3,"sources":["webpack://_N_E/./components/prefixedLink.tsx","webpack://_N_E/./components/language-selector.js","webpack://_N_E/./dedup/custom-fetch.ts","webpack://_N_E/./dedup/spotify-api.ts","webpack://_N_E/./components/reviews.js","webpack://_N_E/./components/features.js","webpack://_N_E/./node_modules/next/link.js","webpack://_N_E/./components/footer.js","webpack://_N_E/../../client/link.tsx","webpack://_N_E/./dedup/oauth-manager.ts","webpack://_N_E/./dedup/oauth-config.ts","webpack://_N_E/./components/intro.js","webpack://_N_E/./components/pages/index.js"],"names":["PrefixedLink","href","as","children","process","prefetch","timeoutBetweenFailingRequests","queue","isOngoingRequest","execute","a","resolve","reject","url","options","retries","fetch","response","success","status","console","log","setTimeout","Math","random","tryToExecute","length","next","shift","fetchParams","promise","Promise","push","then","r","customFetch","apiPrefix","parseAPIResponse","text","err","type","message","responseBody","parsedJSON","JSON","parse","ok","body","e","SpotifyWebApi","this","token","getGeneric","optionsString","Object","keys","map","k","join","method","headers","Authorization","res","error","userId","encodeURIComponent","playlistId","uris","dataToBeSent","tracks","uri","stringify","trackIds","useTranslation","t","i18n","dangerouslySetInnerHTML","__html","strongOpen","strongClose","linkGithubOpen","linkGithubClose","linkWebApiOpen","linkWebApiClose","module","exports","linkOpen","linkClose","listeners","IntersectionObserver","window","prefetched","listenToIntersections","el","observer","cachedObserver","entries","entry","cb","rootMargin","router","linkClicked","nodeName","target","locationOrigin","URL","resolved","isLocal","scroll","replace","shallow","document","props","p","React","pathname","resolvedHref","resolveHref","childElm","child","Children","childProps","ref","setChildElm","onClick","priority","addBasePath","obtainToken","authWindow","pollAuthWindowClosed","addEventListener","receiveMessage","event","clearInterval","origin","OAuthConfig","host","close","removeEventListener","data","left","screen","width","top","height","params","client_id","clientId","redirect_uri","redirectUri","response_type","scopes","scope","open","obj","parts","i","hasOwnProperty","toQueryString","setInterval","closed","global","exec","onLoginClick","xmlns","style","marginRight","verticalAlign","transform","fill","d","MetaHead","name","content","rel","AvailableLanguages","filter","language","key","hrefLang","Index","isLoggedIn","user","OAuthManager","accessToken","api","setAccessToken","getMe","setState","className","state","handleLoginClick","Component"],"mappings":"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","file":"static/chunks/9162518ee998bb5faff3b8d2d90ab1fccb66ccc2.b577d944140ffb1a8a99.js","sourcesContent":["import Link from 'next/link';\n\n// Fixes links by prepending linkPrefix when in deployed on Github\nconst PrefixedLink = ({ href, as = href, children }) => (\n  <Link href={href} as={`${process.env.linkPrefix}${as}`}>\n    {children}\n  </Link>\n);\n\nexport default PrefixedLink;\n","import React from 'react';\nimport PrefixedLink from './prefixedLink';\n\nexport default () => {\n  return (\n    <div className=\"footer\">\n      <p>\n        Change language to{' '}\n        <PrefixedLink prefetch={false} href=\"/de/\">\n          <a>German</a>\n        </PrefixedLink>\n        ,{' '}\n        <PrefixedLink prefetch={false} href=\"/\">\n          <a>English</a>\n        </PrefixedLink>\n        ,{' '}\n        <PrefixedLink prefetch={false} href=\"/es/\">\n          <a>Spanish</a>\n        </PrefixedLink>\n        ,{' '}\n        <PrefixedLink prefetch={false} href=\"/fr/\">\n          <a>French</a>\n        </PrefixedLink>\n        ,{' '}\n        <PrefixedLink prefetch={false} href=\"/it/\">\n          <a>Italian</a>\n        </PrefixedLink>\n        ,{' '}\n        <PrefixedLink prefetch={false} href=\"/nl/\">\n          <a>Dutch</a>\n        </PrefixedLink>\n        ,{' '}\n        <PrefixedLink prefetch={false} href=\"/pt/\">\n          <a>Portuguese</a>\n        </PrefixedLink>\n        ,{' '}\n        <PrefixedLink prefetch={false} href=\"/sv/\">\n          <a>Swedish</a>\n        </PrefixedLink>\n      </p>\n      <style jsx>\n        {`\n          .footer {\n            padding-top: 15px;\n            padding-left: 15px;\n            padding-right: 15px;\n            color: var(--secondary-text-color);\n            text-align: center;\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n","const timeoutBetweenFailingRequests = 2000;\nconst queue: Array<{\n  resolve: any;\n  reject: any;\n  url: string;\n  options: RequestInit;\n  retries: number;\n}> = [];\n\nexport type ResponseType = {\n  text: () => string;\n  status: number;\n  ok: boolean;\n};\n\nlet isOngoingRequest = false;\n\nasync function execute({ resolve, reject, url, options, retries }) {\n  try {\n    const response = await fetch(url, options);\n    let success = response.status < 400;\n    if (!success) {\n      console.log(\n        'got status ' + response.status + ' with retries ' + retries,\n        url,\n        options\n      );\n    }\n    if (success) {\n      resolve(response);\n    } else if (--retries > 0) {\n      setTimeout(() => {\n        execute({ resolve, reject, url, options, retries });\n      }, timeoutBetweenFailingRequests + Math.random() * 5000);\n    } else {\n      reject(response);\n    }\n  } catch (e) {\n    if (--retries > 0) {\n      setTimeout(() => {\n        execute({ resolve, reject, url, options, retries });\n      }, timeoutBetweenFailingRequests + Math.random() * 2000);\n    } else {\n      reject(e);\n    }\n  }\n}\n\nasync function tryToExecute() {\n  if (!isOngoingRequest && queue.length > 0) {\n    isOngoingRequest = true;\n    const next = queue.shift();\n    execute({\n      resolve: next.resolve,\n      reject: next.reject,\n      url: next.url,\n      options: next.options,\n      retries: next.retries,\n    });\n  }\n}\n\nasync function customFetch(fetchParams: {\n  url: string;\n  options?: { [key: string]: any };\n}): Promise<any> {\n  let retries = 3;\n\n  const promise = new Promise((resolve, reject) => {\n    queue.push({\n      resolve,\n      reject,\n      url: fetchParams.url,\n      options: fetchParams.options,\n      retries,\n    });\n  });\n\n  tryToExecute();\n\n  promise.then(r => {\n    isOngoingRequest = false;\n    tryToExecute();\n  });\n\n  return promise;\n}\n\nexport default customFetch;\n","import fetch, { ResponseType } from './custom-fetch';\nexport type SpotifyArtistType = {\n  id: string;\n  name: string;\n};\n\nexport type SpotifyTrackType = {\n  artists: Array<SpotifyArtistType>;\n  duration_ms: number;\n  id: string;\n  linked_from: SpotifyTrackType;\n  name: string;\n  uri: string;\n};\n\nexport type SpotifyPlaylistType = {\n  collaborative: boolean;\n  id: string;\n  images?: Array<{ url: string }>;\n  name: string;\n  owner: SpotifyUserType;\n  snapshot_id?: string;\n  tracks: {\n    href: string;\n  };\n};\n\nexport type SpotifyPlaylistTrackType = {\n  added_at: string;\n  added_by: SpotifyUserType;\n  is_local: boolean;\n  track: SpotifyTrackType | null;\n}\n\nexport type SpotifySavedTrackType = {\n  added_at: string;\n  track: SpotifyTrackType | null;\n}\n\nexport type SpotifyUserType = {\n  display_name?: string;\n  href: string;\n  id: string;\n  type: 'user';\n  uri: string;\n};\n\nconst apiPrefix = 'https://api.spotify.com/v1';\n\nconst parseAPIResponse = (response: Response): Promise<string> =>\n  new Promise(resolve => resolve(response.text()))\n    .catch(err =>\n      Promise.reject({\n        type: 'NetworkError',\n        status: response.status,\n        message: err,\n      })\n    )\n    .then((responseBody: string) => {\n      try {\n        const parsedJSON =\n          responseBody === '' ? null : JSON.parse(responseBody);\n        if (response.ok) return parsedJSON;\n        if (response.status >= 500) {\n          return Promise.reject({\n            type: 'ServerError',\n            status: response.status,\n            body: parsedJSON,\n          });\n        } else {\n          return Promise.reject({\n            type: 'ApplicationError',\n            status: response.status,\n            body: parsedJSON,\n          });\n        }\n      } catch (e) {\n        // We should never get these unless response is mangled\n        // Or API is not properly implemented\n        return Promise.reject({\n          type: 'InvalidJSON',\n          status: response.status,\n          body: responseBody,\n        });\n      }\n    });\n\nexport default class SpotifyWebApi {\n  token: string;\n\n  constructor() {\n    this.token = null;\n  }\n\n  setAccessToken(token: string) {\n    this.token = token;\n  }\n\n  async getMe() {\n    return await this.getGeneric(`${apiPrefix}/me`);\n  }\n\n  async getGeneric(url: string, options = {}) {\n    const optionsString =\n      Object.keys(options).length === 0\n        ? ''\n        : `?${Object.keys(options)\n          .map(k => `${k}=${options[k]}`)\n          .join('&')}`;\n\n    try {\n      const res = await fetch({\n        url: `${url}${optionsString}`,\n        options: {\n          method: 'GET',\n          headers: {\n            Authorization: `Bearer ${this.token}`,\n          },\n        },\n      });\n      return parseAPIResponse(res);\n    } catch (e) {\n      console.error('e', e);\n      return Promise.reject(e);\n    }\n  }\n\n  async getUserPlaylists(userId: string, options?: { limit?: number }) {\n    const url =\n      typeof userId === 'string'\n        ? `${apiPrefix}/users/${encodeURIComponent(userId)}/playlists`\n        : `${apiPrefix}/me/playlists`;\n    return await this.getGeneric(url, options);\n  }\n\n  async removeTracksFromPlaylist(\n    userId: string,\n    playlistId: string,\n    uris: Array<string | { uri: string; positions: number[] }>\n  ) {\n    const dataToBeSent = {\n      tracks: uris.map(uri => (typeof uri === 'string' ? { uri: uri } : uri)),\n    };\n\n    const res = await fetch({\n      url: `${apiPrefix}/users/${encodeURIComponent(\n        userId\n      )}/playlists/${playlistId}/tracks`,\n      options: {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n        },\n        body: JSON.stringify(dataToBeSent),\n      },\n    });\n    return parseAPIResponse(res);\n  }\n\n  async getMySavedTracks(options?: { limit?: number }) {\n    return this.getGeneric(`${apiPrefix}/me/tracks`, options);\n  }\n\n  async removeFromMySavedTracks(trackIds: Array<string>) {\n    const res = await fetch({\n      url: `${apiPrefix}/me/tracks`,\n      options: {\n        method: 'DELETE',\n        headers: {\n          Authorization: `Bearer ${this.token}`,\n        },\n        body: JSON.stringify(trackIds),\n      },\n    });\n    return parseAPIResponse(res);\n  }\n}\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport default () => {\n  const { t, i18n } = useTranslation();\n\n  return (\n    <div>\n      <p className=\"header\">{t('reviews.title')}</p>\n      <ul className=\"quotes\">\n        <li>\n          <blockquote>\n            I just discovered your @Spotify dedup web app & it is awesome!!!\n            Recommend to all #Spotify users! –\n            <a href=\"https://twitter.com/VanKenton\">@VanKenton</a>\n          </blockquote>\n        </li>\n        <li>\n          <blockquote>\n            @jmperezperez I've been using your spotify dedup code for years.\n            Today, I finally decided to check out your other stuff. Amazing! I\n            can't believe it took me this long to discover it –\n            <a href=\"https://twitter.com/wormx\">@wormx</a>\n          </blockquote>\n        </li>\n        <li>\n          <blockquote>\n            Thanks for the Spotify De-Dup! Very helpful and extremely easy to\n            use. – <a href=\"https://www.buymeacoffee.com/jmp\">PTR</a>\n          </blockquote>\n        </li>\n      </ul>\n      <style jsx>\n        {`\n          .header {\n            font-weight: bold;\n            font-size: 2rem;\n            margin-top: 2rem;\n            line-height: 1.1;\n            text-align: center;\n          }\n          .quotes {\n            list-style: none;\n          }\n\n          ul {\n            padding: 0;\n          }\n          blockquote {\n            background: var(--card-bg-color);\n            border-left: 10px solid var(--accent-color);\n            margin: 1.5em 10px;\n            padding: 0.5em 10px;\n          }\n\n          blockquote p {\n            display: inline;\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n","import React, { Component } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport default () => {\n  const { t, i18n } = useTranslation();\n  return (\n    <div className=\"row marketing cols-3\">\n      <div>\n        <h4>{t('features.find-remove.header')}</h4>\n        <p\n          dangerouslySetInnerHTML={{\n            __html: t('features.find-remove.body', {\n              strongOpen: '<strong>',\n              strongClose: '</strong>',\n            }),\n          }}\n        />\n      </div>\n      <div>\n        <h4>{t('features.safer.header')}</h4>\n        <p\n          dangerouslySetInnerHTML={{\n            __html: t('features.safer.body', {\n              strongOpen: '<strong>',\n              strongClose: '</strong>',\n            }),\n          }}\n        />\n      </div>\n      <div>\n        <h4>{t('features.open-source.header')}</h4>\n        <p\n          dangerouslySetInnerHTML={{\n            __html: t('features.open-source.body', {\n              linkGithubOpen:\n                '<strong><a href=\"https://github.com/JMPerez/spotify-dedup/\">',\n              linkGithubClose: '</a></strong>',\n              linkWebApiOpen:\n                '<a href=\"https://developer.spotify.com/web-api/\">',\n              linkWebApiClose: '</a>',\n            }),\n          }}\n        />\n      </div>\n      <style jsx>\n        {`\n          .row {\n            margin-right: -15px;\n            margin-left: -15px;\n          }\n          .marketing {\n            padding-left: 15px;\n            padding-right: 15px;\n          }\n          .row:after,\n          .row:before {\n            display: table;\n            content: ' ';\n          }\n          .row:after {\n            clear: both;\n          }\n          h4 {\n            font-size: 18px;\n            line-height: 1.1;\n            margin-top: 10px;\n            margin-bottom: 10px;\n          }\n          .cols-3 > div {\n            flex: 1;\n            padding-right: 15px;\n            padding-left: 15px;\n            padding-bottom: 4px;\n          }\n          @media (min-width: 768px) {\n            .cols-3 {\n              display: flex;\n              flex-wrap: wrap;\n            }\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n","module.exports = require('./dist/client/link')\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport default () => {\n  const { t } = useTranslation();\n  return (\n    <div className=\"footer\">\n      <p>\n        <span\n          dangerouslySetInnerHTML={{\n            __html: t('footer.author', {\n              linkOpen:\n                '<a target=\"_blank\" rel=\"noopener\" href=\"https://jmperezperez.com\">',\n              linkClose: '</a>',\n            }),\n          }}\n        />{' '}\n        ·{' '}\n        <span\n          dangerouslySetInnerHTML={{\n            __html: t('footer.github', {\n              linkOpen:\n                '<a target=\"_blank\" rel=\"noopener\" href=\"https://github.com/JMPerez/spotify-dedup/\">',\n              linkClose: '</a>',\n            }),\n          }}\n        />\n        ·{' '}\n        <span\n          dangerouslySetInnerHTML={{\n            __html: t('footer.bmc', {\n              linkOpen:\n                '<a target=\"_blank\" rel=\"noopener\" href=\"https://www.buymeacoffee.com/jmp\">',\n              linkClose: '</a>',\n            }),\n          }}\n        />\n      </p>\n      <style jsx>\n        {`\n          .footer {\n            padding-top: 15px;\n            padding-left: 15px;\n            padding-right: 15px;\n            color: var(--secondary-text-color);\n            text-align: center;\n          }\n          span {\n            white-space: nowrap;\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n","declare const __NEXT_DATA__: any\n\nimport React, { Children } from 'react'\nimport { UrlObject } from 'url'\nimport { PrefetchOptions, NextRouter } from '../next-server/lib/router/router'\nimport { execOnce, getLocationOrigin } from '../next-server/lib/utils'\nimport { useRouter } from './router'\nimport { addBasePath, resolveHref } from '../next-server/lib/router/router'\n\n/**\n * Detects whether a given url is from the same origin as the current page (browser only).\n */\nfunction isLocal(url: string): boolean {\n  const locationOrigin = getLocationOrigin()\n  const resolved = new URL(url, locationOrigin)\n  return resolved.origin === locationOrigin\n}\n\ntype Url = string | UrlObject\n\nexport type LinkProps = {\n  href: Url\n  as?: Url\n  replace?: boolean\n  scroll?: boolean\n  shallow?: boolean\n  passHref?: boolean\n  prefetch?: boolean\n}\n\nlet cachedObserver: IntersectionObserver\nconst listeners = new Map<Element, () => void>()\nconst IntersectionObserver =\n  typeof window !== 'undefined' ? window.IntersectionObserver : null\nconst prefetched: { [cacheKey: string]: boolean } = {}\n\nfunction getObserver(): IntersectionObserver | undefined {\n  // Return shared instance of IntersectionObserver if already created\n  if (cachedObserver) {\n    return cachedObserver\n  }\n\n  // Only create shared IntersectionObserver if supported in browser\n  if (!IntersectionObserver) {\n    return undefined\n  }\n\n  return (cachedObserver = new IntersectionObserver(\n    (entries) => {\n      entries.forEach((entry) => {\n        if (!listeners.has(entry.target)) {\n          return\n        }\n\n        const cb = listeners.get(entry.target)!\n        if (entry.isIntersecting || entry.intersectionRatio > 0) {\n          cachedObserver.unobserve(entry.target)\n          listeners.delete(entry.target)\n          cb()\n        }\n      })\n    },\n    { rootMargin: '200px' }\n  ))\n}\n\nconst listenToIntersections = (el: Element, cb: () => void) => {\n  const observer = getObserver()\n  if (!observer) {\n    return () => {}\n  }\n\n  observer.observe(el)\n  listeners.set(el, cb)\n  return () => {\n    try {\n      observer.unobserve(el)\n    } catch (err) {\n      console.error(err)\n    }\n    listeners.delete(el)\n  }\n}\n\nfunction prefetch(\n  router: NextRouter,\n  href: string,\n  as: string,\n  options?: PrefetchOptions\n): void {\n  if (typeof window === 'undefined') return\n  // Prefetch the JSON page if asked (only in the client)\n  // We need to handle a prefetch error here since we may be\n  // loading with priority which can reject but we don't\n  // want to force navigation since this is only a prefetch\n  router.prefetch(href, as, options).catch((err) => {\n    if (process.env.NODE_ENV !== 'production') {\n      // rethrow to show invalid URL errors\n      throw err\n    }\n  })\n  // Join on an invalid URI character\n  prefetched[href + '%' + as] = true\n}\n\nfunction linkClicked(\n  e: React.MouseEvent,\n  router: NextRouter,\n  href: string,\n  as: string,\n  replace?: boolean,\n  shallow?: boolean,\n  scroll?: boolean\n): void {\n  const { nodeName, target } = e.currentTarget as HTMLAnchorElement\n  if (\n    nodeName === 'A' &&\n    ((target && target !== '_self') ||\n      e.metaKey ||\n      e.ctrlKey ||\n      e.shiftKey ||\n      (e.nativeEvent && e.nativeEvent.which === 2))\n  ) {\n    // ignore click for new tab / new window behavior\n    return\n  }\n\n  if (!isLocal(href)) {\n    // ignore click if it's outside our scope (e.g. https://google.com)\n    return\n  }\n\n  e.preventDefault()\n\n  //  avoid scroll for urls with anchor refs\n  if (scroll == null) {\n    scroll = as.indexOf('#') < 0\n  }\n\n  // replace state instead of push if prop is present\n  router[replace ? 'replace' : 'push'](href, as, { shallow }).then(\n    (success: boolean) => {\n      if (!success) return\n      if (scroll) {\n        window.scrollTo(0, 0)\n        document.body.focus()\n      }\n    }\n  )\n}\n\nfunction Link(props: React.PropsWithChildren<LinkProps>) {\n  if (process.env.NODE_ENV !== 'production') {\n    // This hook is in a conditional but that is ok because `process.env.NODE_ENV` never changes\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const hasWarned = React.useRef(false)\n    if (props.prefetch && !hasWarned.current) {\n      hasWarned.current = true\n      console.warn(\n        'Next.js auto-prefetches automatically based on viewport. The prefetch attribute is no longer needed. More: https://err.sh/vercel/next.js/prefetch-true-deprecated'\n      )\n    }\n  }\n  const p = props.prefetch !== false\n\n  const [childElm, setChildElm] = React.useState<Element>()\n\n  const router = useRouter()\n  const pathname = (router && router.pathname) || '/'\n\n  const { href, as } = React.useMemo(() => {\n    const resolvedHref = resolveHref(pathname, props.href)\n    return {\n      href: resolvedHref,\n      as: props.as ? resolveHref(pathname, props.as) : resolvedHref,\n    }\n  }, [pathname, props.href, props.as])\n\n  React.useEffect(() => {\n    if (p && IntersectionObserver && childElm && childElm.tagName) {\n      // Join on an invalid URI character\n      const isPrefetched = prefetched[href + '%' + as]\n      if (!isPrefetched) {\n        return listenToIntersections(childElm, () => {\n          prefetch(router, href, as)\n        })\n      }\n    }\n  }, [p, childElm, href, as, router])\n\n  let { children, replace, shallow, scroll } = props\n  // Deprecated. Warning shown by propType check. If the children provided is a string (<Link>example</Link>) we wrap it in an <a> tag\n  if (typeof children === 'string') {\n    children = <a>{children}</a>\n  }\n\n  // This will return the first child, if multiple are provided it will throw an error\n  const child: any = Children.only(children)\n  const childProps: {\n    onMouseEnter?: React.MouseEventHandler\n    onClick: React.MouseEventHandler\n    href?: string\n    ref?: any\n  } = {\n    ref: (el: any) => {\n      if (el) setChildElm(el)\n\n      if (child && typeof child === 'object' && child.ref) {\n        if (typeof child.ref === 'function') child.ref(el)\n        else if (typeof child.ref === 'object') {\n          child.ref.current = el\n        }\n      }\n    },\n    onClick: (e: React.MouseEvent) => {\n      if (child.props && typeof child.props.onClick === 'function') {\n        child.props.onClick(e)\n      }\n      if (!e.defaultPrevented) {\n        linkClicked(e, router, href, as, replace, shallow, scroll)\n      }\n    },\n  }\n\n  if (p) {\n    childProps.onMouseEnter = (e: React.MouseEvent) => {\n      if (child.props && typeof child.props.onMouseEnter === 'function') {\n        child.props.onMouseEnter(e)\n      }\n      prefetch(router, href, as, { priority: true })\n    }\n  }\n\n  // If child is an <a> tag and doesn't have a href attribute, or if the 'passHref' property is\n  // defined, we specify the current 'href', so that repetition is not needed by the user\n  if (props.passHref || (child.type === 'a' && !('href' in child.props))) {\n    childProps.href = addBasePath(as)\n  }\n\n  // Add the ending slash to the paths. So, we can serve the\n  // \"<page>/index.html\" directly.\n  if (process.env.__NEXT_EXPORT_TRAILING_SLASH) {\n    const rewriteUrlForNextExport = require('../next-server/lib/router/rewrite-url-for-export')\n      .rewriteUrlForNextExport\n    if (\n      childProps.href &&\n      typeof __NEXT_DATA__ !== 'undefined' &&\n      __NEXT_DATA__.nextExport\n    ) {\n      childProps.href = rewriteUrlForNextExport(childProps.href)\n    }\n  }\n\n  return React.cloneElement(child, childProps)\n}\n\nif (process.env.NODE_ENV === 'development') {\n  const warn = execOnce(console.error)\n\n  // This module gets removed by webpack.IgnorePlugin\n  const PropTypes = require('prop-types')\n  const exact = require('prop-types-exact')\n  // @ts-ignore the property is supported, when declaring it on the class it outputs an extra bit of code which is not needed.\n  Link.propTypes = exact({\n    href: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n    as: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n    prefetch: PropTypes.bool,\n    replace: PropTypes.bool,\n    shallow: PropTypes.bool,\n    passHref: PropTypes.bool,\n    scroll: PropTypes.bool,\n    children: PropTypes.oneOfType([\n      PropTypes.element,\n      (props: any, propName: string) => {\n        const value = props[propName]\n\n        if (typeof value === 'string') {\n          warn(\n            `Warning: You're using a string directly inside <Link>. This usage has been deprecated. Please add an <a> tag as child of <Link>`\n          )\n        }\n\n        return null\n      },\n    ]).isRequired,\n  })\n}\n\nexport default Link\n","import OAuthConfig from './oauth-config';\n\nfunction toQueryString(obj: { [key: string]: string }) {\n  const parts = [];\n  for (const i in obj) {\n    if (obj.hasOwnProperty(i)) {\n      parts.push(`${encodeURIComponent(i)}=${encodeURIComponent(obj[i])}`);\n    }\n  }\n  return parts.join('&');\n}\n\nfunction obtainToken(options?: { scopes: Array<string> }) {\n  const promise = new Promise((resolve, reject) => {\n    let authWindow = null;\n    let pollAuthWindowClosed = null;\n\n    function receiveMessage(event: { origin: string; data: unknown }) {\n      clearInterval(pollAuthWindowClosed);\n      if (event.origin !== OAuthConfig.host) {\n        reject({\n          message: `Origin ${event.origin} does not match ${OAuthConfig.host}`,\n        });\n        return;\n      }\n      if (authWindow !== null) {\n        authWindow.close();\n        authWindow = null;\n      }\n\n      window.removeEventListener('message', receiveMessage, false);\n\n      // todo: manage case when the user rejects the oauth\n      // or the oauth fails to obtain a token\n      resolve(event.data);\n    }\n\n    window.addEventListener('message', receiveMessage, false);\n\n    const width = 400;\n    const height = 600;\n    const left = screen.width / 2 - width / 2;\n    const top = screen.height / 2 - height / 2;\n\n    type Parameters = {\n      client_id: string;\n      redirect_uri: string;\n      response_type: string;\n      scope?: string;\n    };\n\n    const params: Parameters = {\n      client_id: OAuthConfig.clientId,\n      redirect_uri: OAuthConfig.redirectUri,\n      response_type: 'token',\n    };\n\n    if (options.scopes) {\n      params.scope = options.scopes.join(' ');\n    }\n\n    authWindow = window.open(\n      `https://accounts.spotify.com/authorize?${toQueryString(params)}`,\n      'Spotify',\n      `menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=${width}, height=${height}, top=${top}, left=${left}`\n    );\n\n    pollAuthWindowClosed = setInterval(() => {\n      if (authWindow !== null) {\n        if (authWindow.closed) {\n          clearInterval(pollAuthWindowClosed);\n          reject({ message: 'access_denied' });\n        }\n      }\n    }, 1000);\n  });\n\n  return promise;\n}\n\nexport default { obtainToken };\n","const clientId = '04dca0de1c4e4aca88cc615ac23581be';\nconst redirectUri =\n  'location' in global && global['location']['host'] === 'localhost:3000'\n    ? 'http://localhost:3000/callback'\n    : 'https://jmperezperez.com/spotify-dedup/callback/';\n\nconst host = /http[s]?:\\/\\/[^/]+/.exec(redirectUri)[0];\n\nexport default {\n  clientId,\n  redirectUri,\n  host,\n};\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nexport default (props) => {\n  const { t, i18n } = useTranslation();\n  return (\n    <div>\n      <div className=\"jumbotron\">\n        <h1>{t('home.title')}</h1>\n        <p className=\"lead\">{t('home.description')}</p>\n        <p>\n          <button\n            className=\"btn btn-jumbotron btn-success\"\n            onClick={props.onLoginClick}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              height=\"168\"\n              width=\"168\"\n              style={{\n                width: '26px',\n                height: '26px',\n                marginRight: '10px',\n                verticalAlign: '-6px',\n              }}\n            >\n              <g transform=\"scale(0.15)\">\n                <path\n                  fill=\"#ffffff\"\n                  d=\"M83.996.277C37.747.277.253 37.77.253 84.019c0 46.251 37.494 83.741 83.743 83.741 46.254 0 83.744-37.49 83.744-83.741 0-46.246-37.49-83.738-83.745-83.738l.001-.004zm38.404 120.78a5.217 5.217 0 0 1-7.18 1.73c-19.662-12.01-44.414-14.73-73.564-8.07a5.222 5.222 0 0 1-6.249-3.93 5.213 5.213 0 0 1 3.926-6.25c31.9-7.291 59.263-4.15 81.337 9.34 2.46 1.51 3.24 4.72 1.73 7.18zm10.25-22.805c-1.89 3.075-5.91 4.045-8.98 2.155-22.51-13.839-56.823-17.846-83.448-9.764-3.453 1.043-7.1-.903-8.148-4.35a6.538 6.538 0 0 1 4.354-8.143c30.413-9.228 68.222-4.758 94.072 11.127 3.07 1.89 4.04 5.91 2.15 8.976v-.001zm.88-23.744c-26.99-16.031-71.52-17.505-97.289-9.684-4.138 1.255-8.514-1.081-9.768-5.219a7.835 7.835 0 0 1 5.221-9.771c29.581-8.98 78.756-7.245 109.83 11.202a7.823 7.823 0 0 1 2.74 10.733c-2.2 3.722-7.02 4.949-10.73 2.739z\"\n                />\n              </g>\n            </svg>\n            {t('home.login-button')}\n          </button>\n        </p>\n      </div>\n      <style jsx>\n        {`\n          .lead {\n            margin-bottom: 20px;\n            font-size: 16px;\n            font-weight: 200;\n            line-height: 1.4;\n          }\n          .jumbotron {\n            padding: 30px;\n            margin-bottom: 16px;\n            font-size: 21px;\n            font-weight: 200;\n            line-height: 2.1428571435;\n            text-align: center;\n          }\n          h1 {\n            line-height: 1;\n            margin-top: 20px;\n            margin-bottom: 10px;\n          }\n\n          @media (min-width: 768px) {\n            h1 {\n              font-size: 63px;\n            }\n            .lead {\n              font-size: 21px;\n            }\n            .jumbotron {\n              padding: 30px;\n              margin-bottom: 30px;\n            }\n          }\n\n          .jumbotron p {\n            line-height: 1.4;\n          }\n\n          .btn {\n            display: inline-block;\n            padding: 6px 12px;\n            margin-bottom: 0;\n            font-size: 14px;\n            font-weight: 400;\n            line-height: 1.428571429;\n            text-align: center;\n            white-space: nowrap;\n            vertical-align: middle;\n            background-image: none;\n            border: 1px solid transparent;\n            border-radius: 4px;\n            font-size: 21px;\n            padding: 14px 24px;\n            cursor: pointer;\n          }\n          .btn-jumbotron {\n            font-size: 21px;\n            padding: 14px 24px;\n            line-height: 1.33;\n            border-radius: 6px;\n          }\n          .btn-success {\n            color: #fff;\n            background-color: #5cb85c;\n            border-color: #4cae4c;\n          }\n          .btn-success:hover {\n            background-color: hsl(120, 39%, 59%);\n            border-color: #fff;\n          }\n        `}\n      </style>\n    </div>\n  );\n};\n","/*\nhttps://github.com/sprjr/react-localize\nhttps://stackoverflow.com/questions/45911868/using-react-context-for-internationalization\nhttps://github.com/leefreemanxyz/react-context-multilingual\nhttps://itnext.io/using-reacts-context-api-to-provide-a-localization-toolbox-for-your-components-48915f04bb54\n*/\nimport React from 'react';\nimport Head from 'next/head';\nimport Header from '../head';\nimport Footer from '../footer';\nimport Intro from '../intro';\nimport Main from '../main';\nimport Features from '../features';\nimport Reviews from '../reviews';\nimport LanguageSelector from '../language-selector';\n\nimport OAuthManager from '../../dedup/oauth-manager';\nimport SpotifyWebApi from '../../dedup/spotify-api';\nimport { useTranslation } from 'react-i18next';\n\nimport i18n, { AvailableLanguages } from '../../i18n';\n\nconst MetaHead = () => {\n  const { t, i18n } = useTranslation();\n  return (\n    <Head>\n      <title>{t('meta.title')}</title>\n      <meta name=\"og:title\" content={t('meta.title')} />\n      <meta name=\"twitter:title\" content={t('meta.title')} />\n      <meta name=\"description\" content={t('meta.description')} />\n      <meta name=\"og:description\" content={t('meta.description')} />\n      <meta name=\"twitter:description\" content={t('meta.description')} />\n      <meta name=\"viewport\" content=\"width=device-width\" />\n      <link rel=\"canonical\" href=\"https://jmperezperez.com/spotify-dedup/\" />\n      {AvailableLanguages.filter((language) => language !== i18n.language).map(\n        (language) => (\n          <link\n            key={language}\n            rel=\"alternate\"\n            hrefLang={language}\n            href={\n              language === 'en'\n                ? 'https://jmperezperez.com/spotify-dedup/'\n                : `https://jmperezperez.com/spotify-dedup/${language}/`\n            }\n          ></link>\n        )\n      )}\n    </Head>\n  );\n};\nexport default class Index extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  state = {\n    isLoggedIn: false,\n    user: null,\n  };\n  api = null;\n\n  handleLoginClick = async () => {\n    const accessToken = await OAuthManager.obtainToken({\n      scopes: [\n        /*\n            the permission for reading public playlists is granted\n            automatically when obtaining an access token through\n            the user login form\n            */\n        'playlist-read-private',\n        'playlist-read-collaborative',\n        'playlist-modify-public',\n        'playlist-modify-private',\n        'user-library-read',\n        'user-library-modify',\n      ],\n    }).catch(function (error) {\n      console.error('There was an error obtaining the token', error);\n    });\n\n    if (global['ga']) {\n      global['ga']('send', 'event', 'spotify-dedup', 'user-logged-in');\n    }\n    if (global['fbq']) {\n      global['fbq']('trackCustom', 'dedup-user-logged-in');\n    }\n\n    Index.api = new SpotifyWebApi();\n    Index.api.setAccessToken(accessToken);\n\n    const user = await Index.api.getMe();\n\n    this.setState({ isLoggedIn: true, user });\n  };\n\n  render() {\n    return (\n      <div className=\"container\">\n        <MetaHead />\n        <Header />\n\n        {this.state.isLoggedIn ? (\n          <Main api={Index.api} user={this.state.user} />\n        ) : (\n          <Intro onLoginClick={this.handleLoginClick} />\n        )}\n        {this.state.isLoggedIn\n          ? null\n          : [<Features key={0} />, <Reviews key={1} />]}\n        <Footer />\n        <LanguageSelector />\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}